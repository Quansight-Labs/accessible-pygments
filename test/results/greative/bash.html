<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!--
generated by Pygments <https://pygments.org/>
Copyright 2006-2021 by the Pygments team.
Licensed under the BSD license, see LICENSE for details.
-->
<html>
  <head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=None" />
    <style type="text/css">
      /*
generated by Pygments <https://pygments.org/>
Copyright 2006-2021 by the Pygments team.
Licensed under the BSD license, see LICENSE for details.
*/
      pre {
        line-height: 125%;
      }
      td.linenos .normal {
        color: inherit;
        background-color: transparent;
        padding-left: 5px;
        padding-right: 5px;
      }
      span.linenos {
        color: inherit;
        background-color: transparent;
        padding-left: 5px;
        padding-right: 5px;
      }
      td.linenos .special {
        color: #000000;
        background-color: #ffffc0;
        padding-left: 5px;
        padding-right: 5px;
      }
      span.linenos.special {
        color: #000000;
        background-color: #ffffc0;
        padding-left: 5px;
        padding-right: 5px;
      }
      body .hll {
        background-color: #473d18;
      }
      body {
        background: #010726;
        color: #a2bffc;
      }
      body .c {
        color: #797979;
      } /* Comment */
      body .err {
        color: #a2bffc;
      } /* Error */
      body .k {
        color: #9e86c8;
      } /* Keyword */
      body .l {
        color: #a2bffc;
      } /* Literal */
      body .n {
        color: #a2bffc;
      } /* Name */
      body .o {
        color: #f78c6c;
      } /* Operator */
      body .p {
        color: #a2bffc;
      } /* Punctuation */
      body .ch {
        color: #797979;
      } /* Comment.Hashbang */
      body .cm {
        color: #797979;
      } /* Comment.Multiline */
      body .cp {
        color: #797979;
      } /* Comment.Preproc */
      body .cpf {
        color: #797979;
      } /* Comment.PreprocFile */
      body .c1 {
        color: #797979;
      } /* Comment.Single */
      body .cs {
        color: #797979;
      } /* Comment.Special */
      body .gd {
        color: #a2bffc;
      } /* Generic.Deleted */
      body .ge {
        font-style: italic;
      } /* Generic.Emph */
      body .gh {
        color: #a2bffc;
      } /* Generic.Heading */
      body .gs {
        font-weight: bold;
      } /* Generic.Strong */
      body .gu {
        color: #a2bffc;
      } /* Generic.Subheading */
      body .kc {
        color: #9e86c8;
      } /* Keyword.Constant */
      body .kd {
        color: #9e86c8;
      } /* Keyword.Declaration */
      body .kn {
        color: #9e86c8;
      } /* Keyword.Namespace */
      body .kp {
        color: #9e86c8;
      } /* Keyword.Pseudo */
      body .kr {
        color: #9e86c8;
      } /* Keyword.Reserved */
      body .kt {
        color: #c5e478;
      } /* Keyword.Type */
      body .ld {
        color: #a2bffc;
      } /* Literal.Date */
      body .m {
        color: #9e86c8;
      } /* Literal.Number */
      body .s {
        color: #9e8741;
      } /* Literal.String */
      body .na {
        color: #9e86c8;
      } /* Name.Attribute */
      body .nb {
        color: #c5e478;
      } /* Name.Builtin */
      body .nc {
        color: #f78c6c;
      } /* Name.Class */
      body .no {
        color: #a2bffc;
      } /* Name.Constant */
      body .nd {
        color: #9e8741;
      } /* Name.Decorator */
      body .ni {
        color: #9e8741;
      } /* Name.Entity */
      body .ne {
        color: #a2bffc;
      } /* Name.Exception */
      body .nf {
        color: #9e86c8;
      } /* Name.Function */
      body .nl {
        color: #f78c6c;
      } /* Name.Label */
      body .nn {
        color: #c5e478;
      } /* Name.Namespace */
      body .nx {
        color: #a2bffc;
      } /* Name.Other */
      body .py {
        color: #a2bffc;
      } /* Name.Property */
      body .nt {
        color: #5ca7e4;
      } /* Name.Tag */
      body .nv {
        color: #c5e478;
      } /* Name.Variable */
      body .ow {
        color: #9e86c8;
      } /* Operator.Word */
      body .w {
        color: #a2bffc;
      } /* Text.Whitespace */
      body .mb {
        color: #9e86c8;
      } /* Literal.Number.Bin */
      body .mf {
        color: #9e86c8;
      } /* Literal.Number.Float */
      body .mh {
        color: #9e86c8;
      } /* Literal.Number.Hex */
      body .mi {
        color: #9e86c8;
      } /* Literal.Number.Integer */
      body .mo {
        color: #9e86c8;
      } /* Literal.Number.Oct */
      body .sa {
        color: #9e8741;
      } /* Literal.String.Affix */
      body .sb {
        color: #9e8741;
      } /* Literal.String.Backtick */
      body .sc {
        color: #9e8741;
      } /* Literal.String.Char */
      body .dl {
        color: #9e8741;
      } /* Literal.String.Delimiter */
      body .sd {
        color: #9e8741;
      } /* Literal.String.Doc */
      body .s2 {
        color: #9e8741;
      } /* Literal.String.Double */
      body .se {
        color: #f78c6c;
      } /* Literal.String.Escape */
      body .sh {
        color: #9e8741;
      } /* Literal.String.Heredoc */
      body .si {
        color: #9e8741;
      } /* Literal.String.Interpol */
      body .sx {
        color: #9e8741;
      } /* Literal.String.Other */
      body .sr {
        color: #5ca7e4;
      } /* Literal.String.Regex */
      body .s1 {
        color: #9e8741;
      } /* Literal.String.Single */
      body .ss {
        color: #f78c6c;
      } /* Literal.String.Symbol */
      body .bp {
        color: #c5e478;
      } /* Name.Builtin.Pseudo */
      body .fm {
        color: #9e86c8;
      } /* Name.Function.Magic */
      body .vc {
        color: #c5e478;
      } /* Name.Variable.Class */
      body .vg {
        color: #c5e478;
      } /* Name.Variable.Global */
      body .vi {
        color: #c5e478;
      } /* Name.Variable.Instance */
      body .vm {
        color: #f78c6c;
      } /* Name.Variable.Magic */
      body .il {
        color: #9e86c8;
      } /* Literal.Number.Integer.Long */
    </style>
  </head>
  <body>
    <h2></h2>

    <div class="highlight">
      <pre><span></span><span class="ch">#!/bin/bash</span>
<span class="hll"><span class="c1"># Counting the number of lines in a list of files</span>
</span><span class="hll"><span class="c1"># function version</span>
</span><span class="hll">
</span><span class="c1"># function storing list of all files in variable files</span>
get_files <span class="o">()</span> <span class="o">{</span>
  <span class="nv">files</span><span class="o">=</span><span class="s2">&quot;`ls *.[ch]`&quot;</span>
<span class="o">}</span>

<span class="c1"># function counting the number of lines in a file</span>
count_lines <span class="o">()</span> <span class="o">{</span>
  <span class="nv">f</span><span class="o">=</span><span class="nv">$1</span>  <span class="c1"># 1st argument is filename</span>
  <span class="nv">l</span><span class="o">=</span><span class="sb">`</span>wc -l <span class="nv">$f</span> <span class="p">|</span> sed <span class="s1">&#39;s/^\([0-9]*\).*$/\1/&#39;</span><span class="sb">`</span> <span class="c1"># number of lines</span>
<span class="o">}</span>

<span class="c1"># the script should be called without arguments</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$#</span> -ge <span class="m">1</span> <span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> &quot;</span>
  <span class="nb">exit</span> <span class="m">1</span>
<span class="k">fi</span>

<span class="c1"># split by newline</span>
<span class="nv">IFS</span><span class="o">=</span><span class="s1">$&#39;\012&#39;</span>

<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$0</span><span class="s2"> counts the lines of code&quot;</span>
<span class="c1"># don&#39;t forget to initialise!</span>
<span class="nv">l</span><span class="o">=</span><span class="m">0</span>
<span class="nv">n</span><span class="o">=</span><span class="m">0</span>
<span class="nv">s</span><span class="o">=</span><span class="m">0</span>
<span class="c1"># call a function to get a list of files</span>
get_files
<span class="c1"># iterate over this list</span>
<span class="k">for</span> f <span class="k">in</span> <span class="nv">$files</span>
<span class="k">do</span>
        <span class="c1"># call a function to count the lines</span>
        count_lines <span class="nv">$f</span>
        <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$f</span><span class="s2">: </span><span class="nv">$l</span><span class="s2">&quot;</span>loc
	<span class="c1"># store filename in an array</span>
	file<span class="o">[</span><span class="nv">$n</span><span class="o">]=</span><span class="nv">$f</span>
	<span class="c1"># store number of lines in an array</span>
	lines<span class="o">[</span><span class="nv">$n</span><span class="o">]=</span><span class="nv">$l</span>
	<span class="c1"># increase counter</span>
        <span class="nv">n</span><span class="o">=</span>$<span class="o">[</span> <span class="nv">$n</span> + <span class="m">1</span> <span class="o">]</span>
	<span class="c1"># increase sum of all lines</span>
        <span class="nv">s</span><span class="o">=</span>$<span class="o">[</span> <span class="nv">$s</span> + <span class="nv">$l</span> <span class="o">]</span>
<span class="k">done</span>

<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$n</span><span class="s2"> files in total, with </span><span class="nv">$s</span><span class="s2"> lines in total&quot;</span>
<span class="nv">i</span><span class="o">=</span><span class="m">5</span>
<span class="nb">echo</span> <span class="s2">&quot;The </span><span class="nv">$i</span><span class="s2">-th file was </span><span class="si">${</span><span class="nv">file</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2"> with </span><span class="si">${</span><span class="nv">lines</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2"> lines&quot;</span>

<span class="c1">###### CONFIG</span>
<span class="nv">ACCEPTED_HOSTS</span><span class="o">=</span><span class="s2">&quot;/root/.hag_accepted.conf&quot;</span>
<span class="nv">BE_VERBOSE</span><span class="o">=</span><span class="nb">false</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$UID</span><span class="s2">&quot;</span> -ne <span class="m">0</span> <span class="o">]</span>
<span class="k">then</span>
 <span class="nb">echo</span> <span class="s2">&quot;Superuser rights required&quot;</span>
 <span class="nb">exit</span> <span class="m">2</span>
<span class="k">fi</span>

genApacheConf<span class="o">(){</span>
 <span class="nb">echo</span> -e <span class="s2">&quot;# Host </span><span class="si">${</span><span class="nv">HOME_DIR</span><span class="si">}</span><span class="nv">$1</span><span class="s2">/</span><span class="nv">$2</span><span class="s2"> :&quot;</span>
<span class="o">}</span>
</pre>
    </div>
  </body>
</html>
